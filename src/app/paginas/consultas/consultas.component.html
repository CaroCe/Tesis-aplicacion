<mat-card>
    <mat-card-header>
        <mat-card-title>Nueva Consulta</mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <mat-stepper #stepper>
            <mat-step>
                <ng-template matStepLabel>Problema de Salud</ng-template>
                <mat-grid-list cols="2" rowHeight="90">
                    <mat-grid-tile>
                        <mat-form-field appearance="outline">
                            <mat-label>Motivo</mat-label>
                            <input matInput type="text">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile>
                        <mat-form-field appearance="outline">
                            <mat-label>Descripción</mat-label>
                            <textarea matInput type="text"></textarea>
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile colspan="2" rowspan="5">
                        <div style="width: 100%;height: 100%;">
                            <mat-grid-list cols="5" rowHeight="50px">
                                <mat-grid-tile colspan="4" rowspan="9">
                                    <div style="height: 450px;width: 510px;">
                                        <canvas #canvas>
                                        </canvas>
                                    </div>
                                </mat-grid-tile>
                                <mat-grid-tile>
                                    <button mat-raised-button color="warn" style="width: 90%;" (click)="borrarTodo()">Borrar</button>
                                </mat-grid-tile>
                                <mat-grid-tile>
                                    <button mat-raised-button color="primary" style="width: 90%;">
                                        <mat-icon>save</mat-icon>
                                        Guardar
                                    </button>
                                </mat-grid-tile>
                            </mat-grid-list>
                        </div>
                    </mat-grid-tile>
                    <mat-grid-tile colspan="2">
                        <mat-form-field appearance="outline">
                            <mat-label>Descripción del dolor</mat-label>
                            <textarea matInput type="text"></textarea>
                        </mat-form-field>
                    </mat-grid-tile>
                </mat-grid-list>
            </mat-step>
            <mat-step>
                <ng-template matStepLabel>Examinación y Diagnostico</ng-template>
                <mat-grid-list cols="1" rowHeight="95">
                    <mat-grid-tile>
                        <mat-form-field appearance="outline">
                            <mat-label>Observación</mat-label>
                            <textarea matInput type="text"></textarea>
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile>
                        <mat-form-field appearance="outline">
                            <mat-label>Inspección</mat-label>
                            <textarea matInput type="text"></textarea>
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile rowspan="4">
                        <div style="height: 100%;width: 100%;">
                            <mat-grid-list cols="1" rowHeight="90">
                                <mat-grid-tile>
                                    <input style="width: 10%; height: 50%;" type="file" accept="image/png, image/jpeg" #fileInput/>
                                    <button mat-raised-button (click)="uploadFile();" color="accent">Subir</button>
                                </mat-grid-tile>
                                <mat-grid-tile rowspan="3">
                                    <div class="scroll">
                                        <mat-grid-list cols="2" rowHeight="200px">
                                            <mat-grid-tile>
                                                <img src="https://www.sochradi.cl/wp-content/uploads/infopacientes_examen_musculoesqueletico_rx_pie_2.jpg" height="200px">
                                            </mat-grid-tile>
                                            <mat-grid-tile>
                                                <img src="https://www.clikisalud.net/wp-content/uploads/2021/01/radiografias-pies-debes-saber.jpg" height="200px">
                                            </mat-grid-tile>
                                            <mat-grid-tile>
                                                <img src="https://www.cercosalud.com/imagenes/text/00000255/files/RX-PIE-Y-DEDOS.jpg" height="200px">
                                            </mat-grid-tile>
                                            <mat-grid-tile>
                                                <img src="https://thumbs.dreamstime.com/b/radiograf%C3%ADa-del-pie-derecho-2783806.jpg" height="200px">
                                            </mat-grid-tile>
                                          </mat-grid-list>
                                    </div>
                                </mat-grid-tile>
                            </mat-grid-list>
                        </div>
                    </mat-grid-tile>
                    <mat-grid-tile>
                        <mat-form-field appearance="outline">
                            <mat-label>Diagnostico</mat-label>
                            <textarea matInput type="text"></textarea>
                        </mat-form-field>
                    </mat-grid-tile>
                </mat-grid-list>
            </mat-step>
            <mat-step>
                <ng-template matStepLabel>Tratamiento</ng-template>
                <div style="margin-bottom: 15px;">
                    <button mat-raised-button color="accent" (click)="agregarFase()"><mat-icon>add</mat-icon>Agregar fase</button>
                </div>
                <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" style="width: 100%;">

                    <ng-container matColumnDef="fase">
                      <th mat-header-cell *matHeaderCellDef> Fase </th>
                      <td mat-cell *matCellDef="let element"> {{element.fase}} </td>
                    </ng-container>

                    <ng-container matColumnDef="fechaInicio">
                      <th mat-header-cell *matHeaderCellDef> Fecha inicio </th>
                      <td mat-cell *matCellDef="let element"> {{element.fechaInicio}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="id">
                        <th mat-header-cell *matHeaderCellDef> Acciones </th>
                        <td mat-cell *matCellDef="let element"> 
                            <button mat-raised-button color="primary">Editar</button> 
                        </td>
                      </ng-container>
                  
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                  </table>
            </mat-step>
            <mat-step>
                <ng-template matStepLabel>Evolución</ng-template>
                <div style="margin-bottom: 15px;">
                    <button mat-raised-button color="accent" (click)="agregarEvolucion()"><mat-icon>add</mat-icon>Agregar evolución</button>
                </div>
                <table mat-table [dataSource]="dataSourceEvolucion" class="mat-elevation-z8" style="width: 100%;">

                    <ng-container matColumnDef="fecha">
                      <th mat-header-cell *matHeaderCellDef> Fecha </th>
                      <td mat-cell *matCellDef="let element"> {{element.fecha}} </td>
                    </ng-container>

                    <ng-container matColumnDef="descripcion">
                      <th mat-header-cell *matHeaderCellDef> Descripción </th>
                      <td mat-cell *matCellDef="let element"> {{element.descripcion}} </td>
                    </ng-container>
                
                    <ng-container matColumnDef="id">
                        <th mat-header-cell *matHeaderCellDef> Acciones </th>
                        <td mat-cell *matCellDef="let element">
                            <button mat-raised-button color="primary">Editar</button>
                        </td>
                      </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumnsEvolucion"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumnsEvolucion;"></tr>
                  </table>
            </mat-step>
        </mat-stepper>
        <div style="text-align: center;">
            <button mat-raised-button color="primary" style="width: 200px;">Guardar consulta</button>
        </div>
    </mat-card-content>
    
</mat-card>